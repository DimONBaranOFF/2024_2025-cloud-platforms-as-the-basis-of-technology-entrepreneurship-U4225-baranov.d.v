<div align="center">

University: ITMO University

Faculty: FTMI

Course: Cloud platforms as the basis of technology entrepreneurship

Year: 2024

Group: U4225

Author: Baranov Dmitriy Vyacheslavovich

Lab: Lab4 "Разработка инфраструктуры MVP AI приложения"

Date of create: 30.10.2024

Date of finished: 30.10.2024

</div>

## Тема: Разработка инфраструктуры MVP AI-приложения

### Цель работы

Разработать поэтапную инфраструктуру для MVP AI-приложения, учитывая требования и нагрузки на каждом этапе развития. Разработать архитектуру, провести экономический анализ и обосновать выбор используемых технологий и ресурсов.

### Описание продукта
Сервис по созданию анимированных книг

Назначение: Заменить работу видеодизайзера, рисующего клипы, например, краткие перессказы литрес, а также увеличить вовлеченность читателя в процесс изучения классической литературы

Базовая функциональность: клиент заходит на сайт, нажимает создать анимацию, пишет свой промт, chat gpt через api помогает создать промт или улучшает его задавая вопросы пользователю. После этого используется нейросеть Animate Diff, где создаем promt-запросы для модели Stable Diffusion через API, которая преобразовывает текста в анимацию. Получает на выходе ролик длиною 15 секунд. Для большего количества времени нужно приобрести подписку через платежку ymoney. Данные о покупках попадут в 1С бухгалтерия, оттуда в фнс. В рамках данной работы рассмотрим MVP (ролик на 15 сенкунд без платежки)

### Структура приложения

1. Google Cloud Run
2. ChatGPT API
3. Animate Diff API
4. Google Cloud Storage
5. Looker Studio

### Этапы развития и требования
**Начальное состояние**
Цель: Внутреннее тестирование функциональности.
Пользователи: Команда разработчиков (до 5 человек).
Требования: Минимальные затраты, упрощенная настройка и базовая защита данных.

**Тестирование партнерами**
Цель: Бета-тестирование с партнёрами.
Пользователи: До 50 партнеров.
Требования: Доступ из интернета, базовая безопасность и возможность масштабирования.

**Продовое решение**
Цель: Масштабируемое и надежное приложение для широкой аудитории.
Пользователи: От 1000 пользователей и более.
Требования: Высокая доступность, автоматическое масштабирование, расширенная защита данных.

### Архитектура инфраструктуры
(Схема инфраструктуры прилагается)

### Обоснование выбора компонентов
1. Google Cloud Run
Описание: Google Cloud Run — это управляемый сервис, позволяющий запускать контейнеризованные приложения в ответ на HTTP-запросы. Он автоматически масштабируется в зависимости от нагрузки, обеспечивая высокую доступность и простоту развертывания.

Преимущества:

Авто-масштабирование в зависимости от трафика.
Оплата только за фактическое использование (по секундам).
Поддержка контейнеров, что упрощает развертывание и управление приложениями.

2. ChatGPT API
Описание: ChatGPT API предоставляет возможность интеграции функционала обработки естественного языка в приложения. Он может использоваться для генерации текстов, ответов на вопросы и создания диалоговых интерфейсов.

Преимущества:

Высокая степень понимания естественного языка.
Широкие возможности кастомизации ответов.
Подходит для создания интерактивных пользовательских интерфейсов и поддержки пользователей.

3. Animate Diff API
Описание: Animate Diff API используется для генерации анимаций на основе текстовых описаний. Этот API позволяет создавать визуальный контент для приложений, упрощая процесс анимации.

Преимущества:

Возможность создания анимаций с минимальными затратами времени и ресурсов.
Поддержка различных форматов и длительности анимаций.
Идеален для использования в приложениях, требующих визуального контента.

4. Google Cloud Storage
Описание: Google Cloud Storage — это облачное хранилище данных, которое позволяет сохранять и извлекать данные в любое время и из любого места. Оно обеспечивает высокую доступность и надежность для хранения объектов, таких как изображения, видео и другие файлы.

Преимущества:

Высокая устойчивость и доступность данных.
Гибкие параметры хранения (стандарты, архивы и т.д.).
Интеграция с другими сервисами Google Cloud для обработки и анализа данных.

5. Looker Studio
Описание: Looker Studio — это инструмент для визуализации и анализа данных, который позволяет создавать интерактивные отчеты и дашборды на основе данных из различных источников.

Преимущества:

Легкость в создании визуализаций и отчетов.
Возможность интеграции с различными источниками данных, включая Google Cloud Storage и BigQuery.
Бесплатный доступ при базовом использовании, что позволяет малым и средним бизнесам анализировать данные без дополнительных затрат.
Заключение
Эти сервисы вместе образуют мощную экосистему для разработки и развертывания современного приложения с использованием облачных технологий. Они обеспечивают необходимую гибкость, масштабируемость и функциональность, что позволяет стартапам эффективно управлять ресурсами и оптимизировать затраты на каждом этапе разработки.

#### Экономическая модель
Для каждого этапа расчета MVP AI-сервиса использованы данные из Google Cloud Pricing Calculator с детализацией по сервисам:

1. Начальное тестирование (5 пользователей, минимальная нагрузка):

Google Cloud Run: При минимальной нагрузке, с низкой частотой запросов и малым количеством вычислений, затраты составят примерно 10–20 $ в месяц.
ChatGPT API: При небольшом использовании для генерации промптов — 20 $ в месяц.
Animate Diff API: Стоимость составляет 0,068 $ за 15-секундную анимацию. При 5 пользователях, создающих 1-2 анимации в день, затраты составят ~20–25 $ в месяц.
Cloud Storage: Хранение данных объёмом 10 ГБ обойдётся в 2–3 $ в месяц.
Looker Studio: Обычно бесплатен при базовом использовании.
Итог: 52–68 $ в месяц.

2. Тестирование партнёрами (50 пользователей, средняя нагрузка):

Google Cloud Run: Учитывая среднюю нагрузку, масштабирование обойдётся в 50–80 $ в месяц.
ChatGPT API: Средняя нагрузка с увеличением числа запросов — 40–60 $ в месяц.
Animate Diff API: При 50 пользователях, создающих около 2-3 анимаций в день, затраты составят ~100–120 $ в месяц.
Cloud Storage: Для увеличенного объема хранения (около 100 ГБ) потребуется 15–20 $ в месяц.
Looker Studio: По-прежнему бесплатно при небольшой нагрузке.
Итог: 205–280 $ в месяц.

3. Прод (1000 пользователей, высокая нагрузка):

Google Cloud Run: При авто-масштабировании и высоких требованиях к доступности — 300–400 $ в месяц.
ChatGPT API: Высокая нагрузка с возможностью достигнуть 200–300 $ в месяц.
Animate Diff API: При масштабе использования 1 000 пользователей с регулярными анимациями затраты могут составить 1200–1500 $ в месяц.
Cloud Storage: Для значительных объёмов (500+ ГБ) примерно 50–70 $ в месяц.
Looker Studio: При стандартном использовании остаётся бесплатным, но при сложной интеграции возможны дополнительные затраты.
Итог: 1 800–2 270 $ в месяц.

сделай![image](https://github.com/user-attachments/assets/823e2e78-3586-468c-9af3-6949d5724412)

